<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì—¬í–‰ ìŠ¤íƒ€ì¼ ì¶”ì²œ</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  
  <link href="https://fonts.googleapis.com/css2?family=Pretendard&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/main.css">
  <link rel="icon" href="../img/favicon-32x32.png">

</head>
<body>
    <div id="navbar-container"></div>
  <header>
    <h1>ë‚˜ë§Œì˜ ì—¬í–‰ì„ ì‹œì‘í•´ë³´ì„¸ìš”</h1>
    <p>ì˜ˆì‚°, ê¸°ê°„, êµ­ê°€ ì •ë³´ë¥¼ ì…ë ¥í•˜ë©´ ì¶”ì²œ êµ­ê°€ê°€ ìë™ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤.</p>
  </header>

  <section class="filter-section">
    <h2>ì—¬í–‰ ì •ë³´ ì…ë ¥</h2>
    <form id="filterForm">
      <div class="input-row">
        <label>ìµœì†Œ ì˜ˆì‚°($)</label>
        <input type="number" name="minBudget" placeholder="ì˜ˆ: 1500" required />
      </div>
      <div class="input-row">
        <label>ìµœëŒ€ ì˜ˆì‚°($)</label>
        <input type="number" name="maxBudget" placeholder="ì˜ˆ: 2000" required />
      </div>
      <div class="input-row">
        <label>ì—¬í–‰ ì¼ìˆ˜</label>
        <input type="number" name="days" placeholder="ì˜ˆ: 5" min="1" required />
      </div>
      <div class="input-row">
        <label>ì—¬í–‰ ìŠ¤íƒ€ì¼</label>
        <input type="text" name="travelStyle" placeholder="ì˜ˆ: ì—¬ìœ ë¡œìš´, ë¹¡ì„¼ ì¼ì •, íœ´ì‹ ì¤‘ì‹¬ ë“±" required/>
      </div>
      <div class="input-row">
        <label>ê´€ì‹¬ì‚¬</label>
        <input type="text" name="interests" placeholder="ì˜ˆ: ë§›ì§‘ íƒë°©, ë¯¸ìˆ ê´€, íŠ¸ë ˆí‚¹, ì‡¼í•‘ ë“±" required/>
      </div>
      <div class="input-row">
        <label>ë‚˜ë¼</label>
        <select name="country" id="country-select">
          <option value="">ì„ íƒ ì•ˆ í•¨</option>
          <option value="KR">ëŒ€í•œë¯¼êµ­</option>
          <option value="JP">ì¼ë³¸</option>
          <option value="FR">í”„ë‘ìŠ¤</option>
          <option value="US">ë¯¸êµ­</option>
          <option value="IT">ì´íƒˆë¦¬ì•„</option>
        </select>
      </div>
      
      <div class="input-row">
        <label>ì—¬í–‰ ì§€ì—­ (ì„ íƒ)</label>
        <select name="region" id="region-select">
          <option value="">ì„ íƒ ì•ˆ í•¨</option>
        </select>
      </div>
      </div>
      <button type="submit" class="recommend-btn">ì—¬í–‰ ì¶”ì²œ ë°›ê¸° âœˆï¸</button>
      <button type="button" id="ai-smart-recommend-btn"
    class="recommend-btn" >
    AIë¡œ ì¼ì • ì¶”ì²œ ë°›ê¸°! ğŸ¤–
    </button>
    </form>
    
  </section>

  <script>
    // 'ì—¬í–‰ ì¶”ì²œ ë°›ê¸° âœˆï¸' ë²„íŠ¼ (form ì´ë™ìš©)
  document.querySelector('.recommend-btn[type="submit"]').addEventListener('click', (e) => {
  const form = document.getElementById('filterForm');
  if (!form.checkValidity()) {
    form.reportValidity();
    e.preventDefault();  // âœ… ìœ íš¨ì„± í†µê³¼ ëª»í–ˆì„ ë•ŒëŠ” ì´ë™ ë§‰ê¸°
    return;
  }

  const params = new URLSearchParams(new FormData(form)).toString();
  window.location.href = `map.html?${params}`;
  });
  </script>


<!-- âœ… AI ì¼ì • í‘œì‹œìš© íŒ¨ë„ -->
<div id="ai-panel" style="display: none;">
  <div id="ai-panel-close">
    <button onclick="document.getElementById('ai-panel').style.display='none'">âœ– ë‹«ê¸°</button>
  </div>
  <h2>âœˆï¸ AI ì—¬í–‰ ì¼ì •</h2>
  <div id="ai-day-buttons" style="margin-bottom: 1rem;"></div>
  <div id="ai-map" style="width: 100%; height: 300px; margin-bottom: 1rem;"></div>
  <div id="ai-itinerary-list" style="background: #f9f9f9; padding: 1rem;"></div>
  <button id="save-itinerary-btn" class="recommend-btn" style="background-color: #2196F3; margin-top: 10px;">
    ğŸ“Œ ì¼ì • ì €ì¥í•˜ê¸°
  </button>
</div>


<!-- âœ… AI ì‘ë‹µ ì›ë³¸ ì €ì¥ìš© (ë³´ì´ê²Œ í•  í•„ìš”ëŠ” ì—†ìŒ) -->
<div id="gemini-itinerary" style="display: none;"></div>

<!-- â³ AI ì¼ì • ë¡œë”© í‘œì‹œ -->
<div id="loading-overlay" style="display: none">
  <div class="spinner"></div>  <!-- âœ… ì´ê±° -->
  <p>AIê°€ ì—¬í–‰ ì¼ì •ì„ ìƒì„± ì¤‘ì…ë‹ˆë‹¤... âœˆï¸</p>
</div>
   <!-- ìƒë‹¨ ë©”ë‰´ë°” -->
   <script>
    fetch('navbar.html')
      .then(response => response.text())
      .then(html => {
        document.getElementById('navbar-container').innerHTML = html;
      })
      .then(() => {
        
        const script = document.createElement('script');
        script.type = 'module';
        script.src = '../js/navbar.js';  // ë¡œê·¸ì¸ ì²˜ë¦¬í•˜ëŠ” JS
        document.body.appendChild(script);
      });
  </script>
  
  <script type="module" src="../js/aiSchedule.js"></script>
<script async defer
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA5ueda7Qmq4m_agO069YgX82NkEhJCzRY&libraries=places">
</script>

</body>
</html>
